!config
identifier: xelatex
name: XeLaTeX
command: 'xelatex 
          @{ action == "" ?  "--interaction=nonstopmode" :
                             "--interaction=@{action}"  } 
          @{shell} @{synctex} @{expandoptions} 
          @{file}.tex'

arguments:
  - identifier: action
    flag:  '@{value}'
#alternative to use a simple bool key for interaction nonstopmode
# !NOT ADDED TO command yet
  - identifier: nonstopmode
    flag: '@{value.toLowerCase() == "yes" || value.toLowerCase() == "true" ||
             value.toLowerCase() == "on" ? "--interaction=nonstopmode" : "" }'
  - identifier: shell
    flag: '@{value.toLowerCase() == "yes" || value.toLowerCase() == "true" ||
             value.toLowerCase() == "on" ? "--shell-escape" : "--no-shell-escape" }'
  - identifier: write18
    flag: '@{value.toLowerCase() == "yes" || value.toLowerCase() == "true" ||
             value.toLowerCase() == "on" ? "--enable-write18" : "--disable-write18" }'
  - identifier: synctex
    flag: '@{value.toLowerCase() == "yes" || value.toLowerCase() == "true" ||
             value.toLowerCase() == "on" ? "--synctex=1" : "--synctex=0" }'
  - identifier: expandoptions
    flag: '@{value}'
